================================================================================
                    STRIPE PAYMENT TESTING CHECKLIST
================================================================================

Use this checklist to thoroughly test your Stripe integration.

================================================================================
                        PRE-TESTING SETUP
================================================================================

‚ñ° Backend server is running (http://localhost:3001)
‚ñ° Frontend is running (http://localhost:5173)
‚ñ° MongoDB is connected
‚ñ° .env file has Stripe keys configured
‚ñ° Browser console is open (F12) for debugging
‚ñ° Stripe dashboard is open (https://dashboard.stripe.com/test/payments)
‚ñ° Stripe dashboard is in TEST mode (check toggle)

================================================================================
                        BASIC PAYMENT FLOW
================================================================================

‚ñ° Can access marketplace page
‚ñ° Can login as customer
‚ñ° Can view products
‚ñ° Can add product to cart
‚ñ° Cart shows correct items and quantities
‚ñ° Can click "Proceed to Checkout"
‚ñ° Checkout form appears
‚ñ° Can fill shipping details:
  ‚ñ° Name field works
  ‚ñ° Phone field works
  ‚ñ° Address field works
  ‚ñ° City field works
  ‚ñ° State field works
  ‚ñ° Pincode field works
‚ñ° Form validation works (try submitting empty)
‚ñ° "Proceed to Payment" button is clickable
‚ñ° Redirects to Stripe checkout page
‚ñ° Stripe page shows correct:
  ‚ñ° Product name
  ‚ñ° Product quantity
  ‚ñ° Total amount
  ‚ñ° Currency (INR)
‚ñ° Can enter card details
‚ñ° Payment processes successfully
‚ñ° Redirects to success page
‚ñ° Success page shows:
  ‚ñ° Green checkmark
  ‚ñ° Order ID
  ‚ñ° Total amount
  ‚ñ° Payment status
  ‚ñ° Shipping address
  ‚ñ° Action buttons work

================================================================================
                        TEST CARD SCENARIOS
================================================================================

‚úÖ SUCCESSFUL PAYMENT (4242 4242 4242 4242)
‚ñ° Card number accepted
‚ñ° Payment processes
‚ñ° Redirects to success page
‚ñ° Order created in database
‚ñ° Order status is "confirmed"
‚ñ° Payment status is "completed"
‚ñ° Product quantity decreased
‚ñ° Payment appears in Stripe dashboard

‚ùå DECLINED CARD (4000 0000 0000 0002)
‚ñ° Card number accepted
‚ñ° Payment is declined
‚ñ° Error message shown on Stripe page
‚ñ° Can try again with different card
‚ñ° Order status remains "pending" or "cancelled"

üîê 3D SECURE AUTHENTICATION (4000 0025 0000 3155)
‚ñ° Card number accepted
‚ñ° Authentication modal appears
‚ñ° Can click "Complete" to authenticate
‚ñ° Payment processes after authentication
‚ñ° Redirects to success page
‚ñ° Order confirmed

üí≥ INSUFFICIENT FUNDS (4000 0000 0000 9995)
‚ñ° Card number accepted
‚ñ° Payment fails with "insufficient funds" error
‚ñ° Error message displayed
‚ñ° Can retry payment
‚ñ° Order not confirmed

‚è∞ EXPIRED CARD (4000 0000 0000 0069)
‚ñ° Card number accepted
‚ñ° Payment fails with "expired card" error
‚ñ° Error message displayed
‚ñ° Can retry with valid card

üö´ CANCELLED PAYMENT
‚ñ° Can click back arrow on Stripe page
‚ñ° Redirects to cancel page
‚ñ° Cancel page shows appropriate message
‚ñ° Order status updated to "cancelled"
‚ñ° Can retry payment from cancel page

================================================================================
                        EDGE CASES & ERROR HANDLING
================================================================================

‚ñ° Try checkout without login ‚Üí Should prompt to login
‚ñ° Try ordering more than available stock ‚Üí Should show error
‚ñ° Try ordering unavailable product ‚Üí Should show error
‚ñ° Try checkout with empty cart ‚Üí Should show error
‚ñ° Try invalid shipping details ‚Üí Should show validation errors
‚ñ° Try very long product names ‚Üí Should display correctly
‚ñ° Try very large quantities ‚Üí Should handle correctly
‚ñ° Try decimal quantities ‚Üí Should validate
‚ñ° Try negative quantities ‚Üí Should validate
‚ñ° Try special characters in address ‚Üí Should accept
‚ñ° Close browser during payment ‚Üí Order should remain pending
‚ñ° Network interruption ‚Üí Should show error message
‚ñ° Backend server down ‚Üí Should show error message
‚ñ° Invalid JWT token ‚Üí Should redirect to login
‚ñ° Expired JWT token ‚Üí Should redirect to login

================================================================================
                        DATABASE VERIFICATION
================================================================================

After successful payment:
‚ñ° Order document created in MongoDB
‚ñ° Order has correct customer ID
‚ñ° Order has correct farmer ID
‚ñ° Order has correct products array
‚ñ° Order total is correct
‚ñ° Order status is "confirmed"
‚ñ° Payment info has:
  ‚ñ° method: "stripe"
  ‚ñ° paymentStatus: "completed"
  ‚ñ° stripeSessionId
  ‚ñ° stripePaymentId
‚ñ° Shipping address saved correctly
‚ñ° Product quantity decreased by ordered amount
‚ñ° Product still exists in database
‚ñ° Product status unchanged (if stock remains)

After cancelled payment:
‚ñ° Order status is "cancelled"
‚ñ° Payment status is "cancelled"
‚ñ° Product quantity unchanged

================================================================================
                        STRIPE DASHBOARD VERIFICATION
================================================================================

‚ñ° Login to Stripe dashboard
‚ñ° Switch to TEST mode
‚ñ° Navigate to Payments section
‚ñ° Successful payment appears in list
‚ñ° Click on payment to view details:
  ‚ñ° Amount is correct
  ‚ñ° Currency is INR
  ‚ñ° Status is "Succeeded"
  ‚ñ° Customer email is correct
  ‚ñ° Metadata contains orderId
  ‚ñ° Metadata contains customerId
  ‚ñ° Payment method is "card"
  ‚ñ° Card brand shown (Visa)
  ‚ñ° Last 4 digits shown (4242)
‚ñ° Check Customers section:
  ‚ñ° Customer created
  ‚ñ° Email is correct
  ‚ñ° Payment history visible
‚ñ° Check Logs section:
  ‚ñ° API calls logged
  ‚ñ° No errors shown
  ‚ñ° Request/response data visible

================================================================================
                        USER EXPERIENCE TESTING
================================================================================

‚ñ° Page loads quickly
‚ñ° No console errors
‚ñ° No console warnings
‚ñ° Buttons are responsive
‚ñ° Forms are user-friendly
‚ñ° Error messages are clear
‚ñ° Success messages are encouraging
‚ñ° Loading states show appropriately
‚ñ° Redirects are smooth
‚ñ° Mobile responsive (if applicable)
‚ñ° Images load correctly
‚ñ° Text is readable
‚ñ° Colors are appropriate
‚ñ° Layout is clean
‚ñ° Navigation is intuitive

================================================================================
                        SECURITY TESTING
================================================================================

‚ñ° Cannot access checkout without login
‚ñ° Cannot create order for other users
‚ñ° Cannot modify order amounts
‚ñ° Cannot access other users' orders
‚ñ° Card details not visible in network tab
‚ñ° Card details not stored in database
‚ñ° JWT token required for all API calls
‚ñ° Invalid tokens rejected
‚ñ° HTTPS used (in production)
‚ñ° Environment variables not exposed
‚ñ° API keys not in frontend code
‚ñ° No sensitive data in URLs
‚ñ° No sensitive data in browser storage

================================================================================
                        INTEGRATION TESTING
================================================================================

‚ñ° Frontend communicates with backend correctly
‚ñ° Backend communicates with Stripe correctly
‚ñ° Backend communicates with MongoDB correctly
‚ñ° All API endpoints respond correctly
‚ñ° Error responses have proper status codes
‚ñ° Success responses have proper structure
‚ñ° Authentication middleware works
‚ñ° CORS configured correctly
‚ñ° Request/response formats correct
‚ñ° Timeouts handled appropriately

================================================================================
                        PERFORMANCE TESTING
================================================================================

‚ñ° Checkout page loads in < 2 seconds
‚ñ° Payment redirect happens quickly
‚ñ° Success page loads in < 2 seconds
‚ñ° Database queries are efficient
‚ñ° No memory leaks
‚ñ° No excessive API calls
‚ñ° Images optimized
‚ñ° No blocking operations
‚ñ° Concurrent orders handled correctly

================================================================================
                        MULTIPLE ORDER TESTING
================================================================================

‚ñ° Can place multiple orders in sequence
‚ñ° Each order has unique ID
‚ñ° Orders don't interfere with each other
‚ñ° Product quantities update correctly
‚ñ° Multiple products in single order work
‚ñ° Different customers can order simultaneously
‚ñ° Same product ordered by different customers works
‚ñ° Order history shows all orders
‚ñ° Can view individual order details

================================================================================
                        REFUND TESTING (Optional)
================================================================================

‚ñ° Can initiate refund from Stripe dashboard
‚ñ° Refund processes successfully
‚ñ° Order status can be updated to "refunded"
‚ñ° Product quantity can be restored
‚ñ° Customer notified of refund
‚ñ° Refund appears in Stripe dashboard

================================================================================
                        PRODUCTION READINESS
================================================================================

‚ñ° All test scenarios pass
‚ñ° No critical bugs found
‚ñ° Error handling is comprehensive
‚ñ° User experience is smooth
‚ñ° Security measures in place
‚ñ° Documentation is complete
‚ñ° Code is clean and commented
‚ñ° Environment variables documented
‚ñ° Deployment process documented
‚ñ° Monitoring setup planned
‚ñ° Backup strategy in place
‚ñ° Support process defined

================================================================================
                        FINAL CHECKS
================================================================================

‚ñ° Test with different browsers:
  ‚ñ° Chrome
  ‚ñ° Firefox
  ‚ñ° Safari
  ‚ñ° Edge

‚ñ° Test on different devices:
  ‚ñ° Desktop
  ‚ñ° Tablet
  ‚ñ° Mobile

‚ñ° Test with different user roles:
  ‚ñ° Customer
  ‚ñ° Farmer (if applicable)
  ‚ñ° Admin (if applicable)

‚ñ° Test at different times:
  ‚ñ° Peak hours
  ‚ñ° Off-peak hours
  ‚ñ° Different time zones

‚ñ° Test with different data:
  ‚ñ° Short names
  ‚ñ° Long names
  ‚ñ° Special characters
  ‚ñ° International addresses
  ‚ñ° Different currencies (if applicable)

================================================================================
                        SIGN-OFF
================================================================================

Tested by: _____________________

Date: _____________________

All critical tests passed: ‚ñ° Yes  ‚ñ° No

Ready for production: ‚ñ° Yes  ‚ñ° No

Notes:
_________________________________________________________________
_________________________________________________________________
_________________________________________________________________
_________________________________________________________________

================================================================================
                        ISSUES FOUND
================================================================================

Issue #1:
Description: _____________________________________________________
Severity: ‚ñ° Critical  ‚ñ° High  ‚ñ° Medium  ‚ñ° Low
Status: ‚ñ° Open  ‚ñ° Fixed  ‚ñ° Won't Fix

Issue #2:
Description: _____________________________________________________
Severity: ‚ñ° Critical  ‚ñ° High  ‚ñ° Medium  ‚ñ° Low
Status: ‚ñ° Open  ‚ñ° Fixed  ‚ñ° Won't Fix

Issue #3:
Description: _____________________________________________________
Severity: ‚ñ° Critical  ‚ñ° High  ‚ñ° Medium  ‚ñ° Low
Status: ‚ñ° Open  ‚ñ° Fixed  ‚ñ° Won't Fix

================================================================================
                        END OF CHECKLIST
================================================================================

Remember: Test thoroughly before going to production!

Good luck! üöÄ
